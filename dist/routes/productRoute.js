"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const authMiddleware_1 = require("../middleware/authMiddleware");
const multer_1 = require("../utils/multer");
const asyncHandler_1 = require("../utils/asyncHandler");
const productController_1 = require("../controller/productController");
const productRoute = (0, express_1.Router)();
productRoute.route("/createProduct").post(multer_1.upload.array("images"), authMiddleware_1.VerifyToken, authMiddleware_1.CheckRole, (0, asyncHandler_1.AsyncErrorHandler)(productController_1.CreateProductHandler));
productRoute.route("/getAllProduct").get((0, asyncHandler_1.AsyncErrorHandler)(productController_1.GetAllProduct));
productRoute.route("/getProductbyUserId").get(authMiddleware_1.VerifyToken, authMiddleware_1.CheckRole, (0, asyncHandler_1.AsyncErrorHandler)(productController_1.GetProductByUserId));
productRoute.route("/editProduct/:id").put(multer_1.upload.array("images"), authMiddleware_1.VerifyToken, authMiddleware_1.CheckRole, (0, asyncHandler_1.AsyncErrorHandler)(productController_1.EditProductHandler));
productRoute.route("/getProductbyId/:id").get((0, asyncHandler_1.AsyncErrorHandler)(productController_1.GetProductById));
productRoute.route("/deleteProduct/:id").delete(authMiddleware_1.VerifyToken, authMiddleware_1.CheckRole, (0, asyncHandler_1.AsyncErrorHandler)(productController_1.DeleteProductHandler));
productRoute.route("/addReview/:id").post(authMiddleware_1.VerifyToken, (0, asyncHandler_1.AsyncErrorHandler)(productController_1.AddReviewHandler));
productRoute.route("/removeReview/:id").delete(authMiddleware_1.VerifyToken, (0, asyncHandler_1.AsyncErrorHandler)(productController_1.deleteReviewHandler));
productRoute.route("/getProductReview/:id").get((0, asyncHandler_1.AsyncErrorHandler)(productController_1.GetProductReview));
productRoute.route("/relatedProduct/:id").get((0, asyncHandler_1.AsyncErrorHandler)(productController_1.RelatedProductHandler));
exports.default = productRoute;
